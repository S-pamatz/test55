{% extends "base.html" %}
{% block app_content %}
<style>
    .styled-table {
        border-collapse: collapse;
        width: 100%;
    }
                .styled-table th,
                .styled-table td {
                    border: 1px solid #ddd;
                    padding: 8px;
                    text-align: left;
                }
                .styled-table th {
                    background-color: #f2f2f2;
                }
                .styled-table tr:nth-child(even) {
                    background-color: #f2f2f2;
                }
</style>
<div class="funny1">
    <h1>Admin Edit Profile</h1>
    <img src="{{ url_for('static', filename=user.image_file) }}" alt="profile_pic" width="100px" height="100px">
   
    {% if form %}
        <div class = "row">
            <div class="col-md-4">
                {{wtf.quick_form(form, action= url_for('auth.admin_edit_profile', user_id=user.id))}}
            </div>
        </div>
    {% endif %}
</div>
<div class="funny2">
    <h1>Edit Education</h1>
    <div class="flex-options">
        <button>
            <a href="{{url_for('routes.add_education', user_id=user.id)}}">Add Education</a>
        </button>
    </div>

    <table class="styled-table">
        <tr>
            <th>Degree</th>
            <th>Name of Degree</th>
            <th>Date</th>
            <th>College/University</th>
            <th>Edit</th>
        </tr>
        {% for education in user.education %}
        <tr>
            <td>{{ education.degree }}</td>
            <td>{{ education.title }}</td>
            <td>{{ education.year }}</td>
            <td>{{ education.college }} </td>
            <td><a href="{{ url_for('routes.edit_education', education_id=education.id, user_id=user.id) }}">Edit</a>
                <a href="{{ url_for('routes.delete_education', education_id=education.id, user_id=user.id) }}">Delete</a>
            </td>

        </tr>
        {% endfor %}
    </table>
    <h1>Edit Professional Experiences</h1>
    <div class="flex-options">
        <button>
            <a href="{{url_for('routes.add_experiences', user_id=user.id)}}">Add Professional Experiences</a>
        </button>
    </div>
    <table class="styled-table">
        <tr>
            <th>Title</th>
            <th>Origin</th>
            <th>From</th>
            <th>To</th>
            <th>Edit</th>
        </tr>
        {% for experience in user.experience %}
        <tr>
            <td>{{ experience.title }}</td>
            <td>{{ experience.location }}</td>
            <td>{{ experience.date_from }}</td>
            <td>{{ experience.date_to }} </td>
            <td><a href="{{url_for('routes.edit_experience', exp_id=experience.id, user_id=user.id)}}">Edit</a>
                <a href="{{url_for('routes.delete_experience', experience_id=experience.id, user_id=user.id)}}">Delete</a>
            </td>

        </tr>
        {% endfor %}
    </table>
    <h1>Edit Projects</h1>
    <div class="flex-options">
        <button>
            <a href="{{ url_for('routes.add_projects', user_id=user.id) }}">Add Projects</a>
        </button>
    </div>
    <table class="styled-table">
        <tr>
            <th>Name of Project</th>
            <th>Contributers</th>
            <th>Date</th>
            <th>Publisher</th>
            <th>URL</th>
            <th>Edit</th>
        </tr>
        {% for project in user.projects %}
        <tr>
            <td>{{ project.name }}</td>
            <td>{{ project.authorss }}</td>
            <td>{{ project.year }}</td>
            <td>{{ project.publisher }}</td>
            <td>{{ project.url }}</td>
            <td><a href="{{ url_for('routes.edit_project', project_id=project.id, user_id=user.id) }}">Edit</a>
                <a href="{{url_for('routes.delete_project', project_id=project.id, user_id=user.id)}}">Delete</a>
            </td>
        </tr>
    
        {% endfor %}
    </table>
        <h1>Edit Publications</h1>
        <button>
            <a href="{{ url_for('routes.semantic_scholar_author_search_user_input', user_id=user.id) }}">
                <span class="nav-item">Add Publications </span>
            </a>
        </button>
    <table class="styled-table">
        <tr>
            <th>Title of Publication</th>
            <th>Authors</th>
            <th>Journal</th>
            <th>Volume</th>
            <th>Issue</th>
            <th>Publication Year</th>
            <th>Page Range</th>
            <th>Edit</th>
        </tr>
        {% for publication in user.publications %}
        <tr>
            <td>{{ publication.title }}</td>
            <td>{{ publication.authors }}</td>
            <td>{{ publication.journal }}</td>
            <td>{{ publication.volume }} </td>
            <td>{{ publication.issue }}</td>
            <td>{{ publication.publication_year }}</td>
            <td>{{ publication.page_range }}</td>
            <td><a href="{{ url_for('routes.edit_publication', publication_id=publication.id, user_id=user.id) }}">Edit</a>
                <a href="{{ url_for('routes.delete_publication', publication_id=publication.id, user_id=user.id) }}">Delete</a>
            </td>
        </tr>
        {% endfor %}
    </table>
</div>
{% endblock %}
